# 无障碍适配

## 概述

为了让草梅 Auth 平台更好地服务所有用户，包括使用屏幕阅读器的用户，我们需要为主要交互元素添加无障碍支持。

## 主要改进内容

### 1. ARIA 标签和属性

-   `aria-label`: 为交互元素提供可访问的名称
-   `aria-describedby`: 关联错误消息和帮助文本
-   `role`: 定义元素的语义角色
-   `aria-expanded`: 表示可折叠元素的状态
-   `aria-live`: 为动态内容提供实时更新通知

### 2. 语义化 HTML

-   使用正确的标题层级 (h1-h6)
-   使用 `<main>`, `<nav>`, `<aside>` 等语义化标签
-   为表单使用 `<fieldset>` 和 `<legend>`

### 3. 键盘导航

-   确保所有交互元素可通过键盘访问
-   实现逻辑的 Tab 键顺序
-   为模态框实现焦点管理

### 4. 错误处理

-   错误消息与表单字段关联
-   提供清晰的错误描述
-   表单验证的即时反馈

## 页面改进清单

### 登录页面 (/login)

-   [ ] 为登录方式切换按钮添加 aria-label
-   [ ] 为密码可见性切换添加描述
-   [ ] 为社交登录按钮添加明确的标签
-   [ ] 双因素认证对话框的焦点管理

### 注册页面 (/register)

-   [ ] 为注册方式切换添加描述
-   [ ] 密码强度指示器的可访问性
-   [ ] 用户协议复选框的明确标签

### 个人中心 (/profile)

-   [ ] 头像上传区域的可访问性
-   [ ] 账号绑定/解绑操作的确认
-   [ ] 手机号和邮箱验证状态的明确标识

### 管理后台

-   [ ] 侧边栏导航的键盘支持
-   [ ] 数据表格的排序和筛选可访问性
-   [ ] 批量操作的确认和反馈

### 通用组件

-   [ ] 按钮的 loading 状态描述
-   [ ] 对话框的焦点管理
-   [ ] 表单验证错误的关联

## 实施优先级

### 高优先级

1. 表单字段的 label 关联
2. 按钮的明确标签
3. 错误消息的 aria-describedby
4. 基本的键盘导航

### 中优先级

1. 对话框的焦点管理
2. 动态内容的 aria-live
3. 表格的可访问性
4. 状态变化的通知

### 低优先级

1. 复杂交互的 ARIA 状态管理
2. 自定义组件的完整 ARIA 支持
3. 高级键盘快捷键

## 测试方法

1. **屏幕阅读器测试**: 使用 NVDA、JAWS 或 VoiceOver
2. **键盘导航测试**: 使用 Tab、Enter、Space、箭头键
3. **自动化测试**: 使用 axe-core 等工具
4. **手动检查**: 使用浏览器的无障碍检查工具

## 参考资源

-   [WCAG 2.1 指南](https://www.w3.org/WAI/WCAG21/quickref/)
-   [ARIA 最佳实践](https://www.w3.org/WAI/ARIA/apg/)
-   [Vue.js 无障碍指南](https://vuejs.org/guide/best-practices/accessibility.html)
-   [PrimeVue 无障碍支持](https://primevue.org/accessibility)
